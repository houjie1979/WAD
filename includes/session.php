<?php// A class to help work with Sessions// In our case, primarily to manage logging users in and out// Keep in mind when working with sessions that it is generally // inadvisable to store DB-related objects in sessionsclass Session {		private $logged_in=false;	private $admin = false;	public $user_name;	public $user_id;		function __construct() {		session_start();		$this->check_login();    if($this->logged_in) {      // actions to take right away if user is logged in    } else {      // actions to take right away if user is not logged in    }	}	  public function is_logged_in() {    return $this->logged_in;  }  public function is_admin() {    return $this->admin;  }	public function login($user) {    // database should find user based on username/password    if($user){      $this->user_id = $_SESSION['user_id'] = $user->id;//	  $_SESSION['admin'] = ($user['admin'] == 'Y') ? true:false;//	  echo $user['id'];//	  echo $user['admin'];//	  $this->admin = $_SESSION['admin'];      $this->logged_in = true;    }  }  	public function logmein($user) {    // database should find user based on username/password//	print_r($user);//	echo $user[0]->id;    if($user[0]->id){      $this->user_id = $_SESSION['user_id'] = $user[0]->id;	  $this->admin = $_SESSION['admin'] = ($user[0]->admin == 'Y') ? true:false;//	  echo $user[0]->id;	  $this->user_name = $_SESSION['user_name'] = $user[0]->first_name." ".$user[0]->last_name;//	  echo $user['admin'];//	  $this->admin = $_SESSION['admin'];      $this->logged_in = true;    }  }   public function logout() {    unset($_SESSION['user_id']);//    unset($_SESSION['admin']);    unset($this->user_id);//	unset($this->admin);    $this->logged_in = false;  }  public function logmeout() {    unset($_SESSION['user_id']);    unset($_SESSION['admin']);    unset($_SESSION['user_name']);    unset($this->user_id);	unset($this->admin);	unset($this->user_name);    $this->logged_in = false;  }   private function check_login() {    if(isset($_SESSION['user_id'])) {      $this->user_id = $_SESSION['user_id'];      $this->user_name = $_SESSION['user_name'];//	  $this->admin = (isset($_SESSION['admin'])) ? $_SESSION['admin']:false;        $this->logged_in = true;	  if(isset($_SESSION['admin'])) {      	$this->admin = $_SESSION['admin'];    	} else {      		$this->admin = false;    		}      } else {      		unset($this->user_id);      		$this->logged_in = false;	  		$this->admin = false;        }    }    }$session = new Session();?>